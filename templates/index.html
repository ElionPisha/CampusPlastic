<!DOCTYPE html>
{%load static%}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Campus Plastics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
 <div class="cnt" id="container-id">
     <h1>Campus Plastics</h1>
     <div class="loading" id="spinner"></div>
     <div class="container">
        <ul>
            {% for link in links %}
                <li class="element-link">
                    <a href="../../material/{{link.href_url}}" onclick="loadSpinner()">{{link.title}}</a>
                </li>
            {% endfor %}
        </ul>
     </div>
     <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        <li class="page-item"><a class="page-link" href="">1</a></li>
        <li class="page-item"><a class="page-link" href="">2</a></li>
        <li class="page-item"><a class="page-link" href="">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav>
</div>

</body>

<!--    Single Element CSS Spinners-->
<script>
    let page = window.location.href.split("materials/")[1]
    if(page[page.length - 1] == "/") {
        page = page.substring(0, page.length - 1);
    }
    paginationLinks = document.getElementsByClassName("page-link");
    if(page == "0") {
    paginationLinks[1].href = "../" + (parseInt(page))
    paginationLinks[1].innerHTML = parseInt(page)

    paginationLinks[2].href = "../" + (parseInt(page) + 1)
    paginationLinks[2].innerHTML = parseInt(page) + 1

    paginationLinks[3].href = "../" + (parseInt(page) + 2)
    paginationLinks[3].innerHTML = parseInt(page) + 2

    paginationLinks[4].href = "../" + (parseInt(page) + 1)
    } else {
    paginationLinks[0].href = "../" + (parseInt(page) - 1)
    paginationLinks[1].href = "../" + (parseInt(page) - 1)
    paginationLinks[1].innerHTML = parseInt(page) - 1

    paginationLinks[2].href = "../" + (parseInt(page))
    paginationLinks[2].innerHTML = parseInt(page)

    paginationLinks[3].href = "../" + (parseInt(page) + 1)
    paginationLinks[3].innerHTML = parseInt(page) + 1

    paginationLinks[4].href = "../" + (parseInt(page) + 1)
    }

    function loadSpinner() {
        const spinner = document.getElementById("spinner");
        if(spinner){
            spinner.style.display = "flex";
        }
    }

    function setContainerHeight() {
        const container = document.getElementById("container-id");
        if(container) {
            container.style.height = window.innerHeight + "px";

        }
    }

    setTimeout(()=> {
        setContainerHeight();
    }, 400);


</script>

</html>